
@{
    ViewBag.Title = "XemGioHang";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model NguyenMinhHung_2001230322_Bai10.Models.GioHang
@{ ViewBag.Title = "Giỏ hàng"; }

<h2>Thông tin giỏ hàng đã chọn</h2>
<table class="table table-bordered align-middle">
    <tr>
        <th>Mã</th>
        <th>Tên</th>
        <th>Ảnh</th>
        <th>SL</th>
        <th>Đơn giá</th>
        <th>Thành tiền</th>
        <th></th>
    </tr>
    @foreach (var i in Model.lst)
    {
        <tr>
            <td>@i.iMaSach</td>
            <td>@i.sTenSach</td>
            <td><img src="~/Content/HinhAnh/@i.sAnhBia" class="thumb" /></td>
            <td>@i.iSoLuong</td>
            <td>@String.Format("{0:0,0} VND", i.dDonGia)</td>
            <td>@String.Format("{0:0,0} VND", i.ThanhTien)</td>
            <td><a class="btn btn-outline-danger btn-sm" href="@Url.Action("Xoa","Home", new { id = i.iMaSach })">Xoá</a></td>
        </tr>
    }
    <tr>
        <td colspan="7" class="text-end">
            Tổng SL: <b>@Model.TongSLHang()</b> —
            Tổng tiền: <b>@String.Format("{0:0,0} VND", Model.TongThanhTien())</b>
        </td>
    </tr>
</table>

<a class="btn btn-secondary" href="@Url.Action("XoaToanBo","Home")">Xoá toàn bộ</a>
@if (Session["kh"] != null && Model.lst.Any())
{
    <a class="btn btn-success" href="@Url.Action("TaoDonDatHang","Home")">Đồng ý đặt hàng</a>
}
else
{ <span class="ms-2">Đăng nhập để đặt hàng.</span>}
